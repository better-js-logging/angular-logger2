(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n(require("@angular/core"),require("moment"),require("sprintf-js"));else if(typeof define==="function"&&define.amd)define("AngularLogger2",["@angular/core","moment","sprintf-js"],n);else if(typeof exports==="object")exports["AngularLogger2"]=n(require("@angular/core"),require("moment"),require("sprintf-js"));else t["AngularLogger2"]=n(t["ng"]["core"],t["moment"],t["sprintf-js"])})(window,function(e,t,n){return function(e){var t={};function n(r){if(t[r]){return t[r].exports}var o=t[r]={i:r,l:false,exports:{}};e[r].call(o.exports,o,o.exports,n);o.l=true;return o.exports}n.m=e;n.c=t;n.d=function(e,t,r){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=8)}([function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,f;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)if(f=e[c])i=(o<3?f(i):o>3?f(t,n,i):f(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:true});var i=n(1);var f=function(){function e(e,t,n,r){this.prefixPattern=e;this.datetimePattern=t;this.datetimeLocale=n;this.contextLogLevels=r}e=r([i.Injectable(),o("design:paramtypes",[String,String,String,Array])],e);return e}();t.LoggingConfig=f;var c=function(){function e(e,t){this.name=e;this.level=t}e.TRACE=new e("TRACE",4);e.DEBUG=new e("DEBUG",3);e.INFO=new e("INFO",2);e.WARN=new e("WARN",1);e.ERROR=new e("ERROR",0);e.OFF=new e("OFF",-1);return e}();t.LogLevel=c;var a=function(){function e(e,t){this.context=e;this.logLevel=t}return e}();t.ContextLogLevel=a},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n]};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:true});var o=n(6);var i=o.sprintf;var f=n(5);var c=n(0);var a=n(4);var u=function(){function e(){}e.prototype.log=function(e,t,n,r,o){if(this.levelPassesThreshold(r,n,o)){var i=this.enhanceLogline(e,r,n,o);t.apply(null,i);return i}else{return null}};e.prototype.levelPassesThreshold=function(e,t,n){return t.level>c.LogLevel.OFF.level&&t.level<=this.getLogLevelThreshold(e,n).level};e.prototype.getLogLevelThreshold=function(e,t){if(e){var n=this.findLogLevelForContext(t.contextLogLevels,e);if(n){return n.logLevel}else if(e.indexOf(".")!==-1){return this.getLogLevelThreshold(e.substring(0,e.lastIndexOf(".")),t)}}var r=this.findLogLevelForContext(t.contextLogLevels,"*");return r&&r.logLevel||c.LogLevel.TRACE};e.prototype.findLogLevelForContext=function(e,t){return e.find(function(e){return e.context==t})};e.prototype.enhanceLogline=function(e,t,n,r){var o=this.generatePrefix(t,n,r);var i=this.maybeApplySprintf([].slice.call(e));return[o].concat([].slice.call(i))};e.prototype.maybeApplySprintf=function(e){var t=typeof i!=="undefined";var n=t&&e.length>=2&&typeof e[0]==="string"&&e[0].indexOf("%")!==-1;if(n){try{var r=this.countSprintfHolders(e[0]);if(r>0){e[0]=i.apply(null,e);e.splice(1,r)}}catch(t){e.unshift(t)}}return e};e.prototype.generatePrefix=function(e,t,n){var r="";if(typeof f!=="undefined"){r=f().locale(n.datetimeLocale).format(n.datetimePattern)}else{var o=new Date;var c=(new Date).toTimeString().match(/^([0-9]{2}:[0-9]{2}:[0-9]{2})/)[0];r=o.getDate()+"-"+(o.getMonth()+1)+"-"+o.getFullYear()+" "+c}if(typeof i!=="undefined"){return i(n.prefixPattern,r,e,t.name.toLowerCase())}else{return r+"::"+e+"::"+t.name.toLowerCase()+"> "}};e.prototype.countSprintfHolders=function(e){var t=/\x25\([a-zA-Z0-9_]+\)[b-fijosuxX]/.test(e);if(t){return 1}var n=0;function r(e){return function(){return n=Math.max(n,e)}}i(e,r(1),r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10));return n};return e}();t.LoggerBase=u;var l=function(e){r(t,e);function t(t,n){var r=e.call(this)||this;r.context=t;r.config=n;return r}t.prototype.trace=function(e){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}return this.log(arguments,function(){t.console.trace.apply(t.console,arguments)},c.LogLevel.TRACE,this.context,this.config)};t.prototype.debug=function(e){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}return this.log(arguments,function(){t.console.debug.apply(t.console,arguments)},c.LogLevel.DEBUG,this.context,this.config)};t.prototype.info=function(e){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}return this.log(arguments,function(){t.console.info.apply(t.console,arguments)},c.LogLevel.INFO,this.context,this.config)};t.prototype.warn=function(e){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}return this.log(arguments,function(){t.console.warn.apply(t.console,arguments)},c.LogLevel.WARN,this.context,this.config)};t.prototype.error=function(e){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}return this.log(arguments,function(){t.console.error.apply(t.console,arguments)},c.LogLevel.ERROR,this.context,this.config)};t.console=a.default();return t}(u);t.Logger=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,f;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)if(f=e[c])i=(o<3?f(i):o>3?f(t,n,i):f(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:true});var f=n(1);var c=n(0);var a=n(2);var u=function(){function e(e){this.config=e;if(e&&typeof console!=="undefined"&&console&&console.debug){console.debug("creating new LoggingService with injected config:",e)}this.config=new c.LoggingConfig(e&&e.prefixPattern||t.DEFAULT_CONFIG.prefixPattern,e&&e.datetimePattern||t.DEFAULT_CONFIG.datetimePattern,e&&e.datetimeLocale||t.DEFAULT_CONFIG.datetimeLocale,e&&e.contextLogLevels||t.DEFAULT_CONFIG.contextLogLevels)}t=e;e.getLogger=function(e,n,r,o,i){return(new t).getLogger(e,n,r,o,i)};e.prototype.getLogger=function(e,t,n,r,o){if(e===void 0){e=this.createRandomName()}return new a.Logger(e,new c.LoggingConfig(t||this.config.prefixPattern,r||this.config.datetimePattern,n||this.config.datetimeLocale,o&&[new c.ContextLogLevel(e,o)]||this.config.contextLogLevels))};e.prototype.createRandomName=function(){return this.createRandomWord(5)+" "+this.createRandomWord(5)};e.prototype.createRandomWord=function(e){var t="bcdfghjklmnpqrstvwxyz".split("");var n="aeiou".split("");var r=function(e){return Math.floor(Math.random()*e)};var o="";for(var i=0;i<e/2;i++){var f=t[r(t.length)];var c=n[r(n.length)];o+=i===0?f.toUpperCase():f;o+=i*2<e-1?c:""}return o};var t;e.DEFAULT_CONFIG=new c.LoggingConfig("%s::[%s]> ","LLL",window.navigator.language||"en",[new c.ContextLogLevel("*",c.LogLevel.TRACE)]);e=t=r([f.Injectable(),i(0,f.Inject(c.LoggingConfig)),i(0,f.Optional()),o("design:paramtypes",[c.LoggingConfig])],e);return e}();t.LoggingService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(){var e=function(){return null};return typeof console!=="undefined"?console:{trace:e,debug:e,info:e,warn:e,error:e}}t.default=r},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o=arguments.length,i=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,f;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)if(f=e[c])i=(o<3?f(i):o>3?f(t,n,i):f(t,n))||i;return o>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(t,"__esModule",{value:true});var o=n(1);var i=n(3);var f=function(){function e(){}e=r([o.NgModule({providers:[i.LoggingService]})],e);return e}();t.LoggingModule=f},function(e,t,n){"use strict";function r(e){for(var n in e)if(!t.hasOwnProperty(n))t[n]=e[n]}Object.defineProperty(t,"__esModule",{value:true});r(n(7));r(n(0));r(n(2));r(n(3))}])});
//# sourceMappingURL=angular-logger2.umd.min.js.map