!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/core"),require("moment"),require("sprintf-js")):"function"==typeof define&&define.amd?define("AngularLogger2",["@angular/core","moment","sprintf-js"],t):"object"==typeof exports?exports.AngularLogger2=t(require("@angular/core"),require("moment"),require("sprintf-js")):e.AngularLogger2=t(e.ng.core,e.moment,e["sprintf-js"])}(this,function(e,t,n){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var f=e.length-1;f>=0;f--)(r=e[f])&&(c=(i<3?r(c):i>3?r(t,n,c):r(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),c=function(){function e(e,t,n,o){this.prefixPattern=e,this.datetimePattern=t,this.datetimeLocale=n,this.contextLogLevels=o}return e}();c=o([i.Injectable(),r("design:paramtypes",[String,String,String,Array])],c),t.LoggingConfig=c;var f=function(){function e(e,t){this.name=e,this.level=t}return e}();f.TRACE=new f("TRACE",4),f.DEBUG=new f("DEBUG",3),f.INFO=new f("INFO",2),f.WARN=new f("WARN",1),f.ERROR=new f("ERROR",0),f.OFF=new f("OFF",-1),t.LogLevel=f;var a=function(){function e(e,t){this.context=e,this.logLevel=t}return e}();t.ContextLogLevel=a},function(t,n){t.exports=e},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=r.sprintf,c=n(7),f=n(0),a=n(5),u=function(){function e(){}return e.prototype.log=function(e,t,n,o,r){if(this.levelPassesThreshold(o,n,r)){var i=this.enhanceLogline(e,o,n,r);return t.apply(null,i),i}return null},e.prototype.levelPassesThreshold=function(e,t,n){return t.level>f.LogLevel.OFF.level&&t.level<=this.getLogLevelThreshold(e,n).level},e.prototype.getLogLevelThreshold=function(e,t){if(e){var n=this.findLogLevelForContext(t.contextLogLevels,e);if(n)return n.logLevel;if(-1!==e.indexOf("."))return this.getLogLevelThreshold(e.substring(0,e.lastIndexOf(".")),t)}var o=this.findLogLevelForContext(t.contextLogLevels,"*");return o&&o.logLevel||f.LogLevel.TRACE},e.prototype.findLogLevelForContext=function(e,t){return e.find(function(e){return e.context==t})},e.prototype.enhanceLogline=function(e,t,n,o){var r=this.generatePrefix(t,n,o),i=this.maybeApplySprintf([].slice.call(e));return[r].concat([].slice.call(i))},e.prototype.maybeApplySprintf=function(e){if(void 0!==i&&e.length>=2&&"string"==typeof e[0]&&-1!==e[0].indexOf("%"))try{var t=this.countSprintfHolders(e[0]);t>0&&(e[0]=i.apply(null,e),e.splice(1,t))}catch(t){e.unshift(t)}return e},e.prototype.generatePrefix=function(e,t,n){var o="";if(void 0!==c)o=c().locale(n.datetimeLocale).format(n.datetimePattern);else{var r=new Date,f=(new Date).toTimeString().match(/^([0-9]{2}:[0-9]{2}:[0-9]{2})/)[0];o=r.getDate()+"-"+(r.getMonth()+1)+"-"+r.getFullYear()+" "+f}return void 0!==i?i(n.prefixPattern,o,e,t.name.toLowerCase()):o+"::"+e+"::"+t.name.toLowerCase()+"> "},e.prototype.countSprintfHolders=function(e){function t(e){return function(){return n=Math.max(n,e)}}if(/\x25\([a-zA-Z0-9_]+\)[b-fijosuxX]/.test(e))return 1;var n=0;return i(e,t(1),t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10)),n},e}();t.LoggerBase=u;var l=function(e){function t(t,n){var o=e.call(this)||this;return o.context=t,o.config=n,o}return o(t,e),t.prototype.trace=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return this.log(arguments,t.console.trace,f.LogLevel.TRACE,this.context,this.config)},t.prototype.debug=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return this.log(arguments,t.console.debug,f.LogLevel.DEBUG,this.context,this.config)},t.prototype.info=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return this.log(arguments,t.console.info,f.LogLevel.INFO,this.context,this.config)},t.prototype.warn=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return this.log(arguments,t.console.warn,f.LogLevel.WARN,this.context,this.config)},t.prototype.error=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return this.log(arguments,t.console.error,f.LogLevel.ERROR,this.context,this.config)},t}(u);l.console=a.default(),t.Logger=l},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var f=e.length-1;f>=0;f--)(r=e[f])&&(c=(i<3?r(c):i>3?r(t,n,c):r(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(n,o){t(n,o,e)}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),f=n(0),a=n(2),u=l=function(){function e(e){this.config=e,e&&"undefined"!=typeof console&&console&&console.debug&&console.debug("creating new LoggingService with injected config:",e),this.config=new f.LoggingConfig(e&&e.prefixPattern||l.DEFAULT_CONFIG.prefixPattern,e&&e.datetimePattern||l.DEFAULT_CONFIG.datetimePattern,e&&e.datetimeLocale||l.DEFAULT_CONFIG.datetimeLocale,e&&e.contextLogLevels||l.DEFAULT_CONFIG.contextLogLevels)}return e.getLogger=function(e,t,n,o,r){return(new l).getLogger(e,t,n,o,r)},e.prototype.getLogger=function(e,t,n,o,r){return void 0===e&&(e=this.createRandomName()),new a.Logger(e,new f.LoggingConfig(t||this.config.prefixPattern,o||this.config.datetimePattern,n||this.config.datetimeLocale,r&&[new f.ContextLogLevel(e,r)]||this.config.contextLogLevels))},e.prototype.createRandomName=function(){return this.createRandomWord(5)+" "+this.createRandomWord(5)},e.prototype.createRandomWord=function(e){for(var t="bcdfghjklmnpqrstvwxyz".split(""),n="aeiou".split(""),o=function(e){return Math.floor(Math.random()*e)},r="",i=0;i<e/2;i++){var c=t[o(t.length)],f=n[o(n.length)];r+=0===i?c.toUpperCase():c,r+=2*i<e-1?f:""}return r},e}();u.DEFAULT_CONFIG=new f.LoggingConfig("%s::[%s]> ","LLL",window.navigator.language||"en",[new f.ContextLogLevel("*",f.LogLevel.TRACE)]),u=l=o([c.Injectable(),i(0,c.Inject(f.LoggingConfig)),i(0,c.Optional()),r("design:paramtypes",[f.LoggingConfig])],u),t.LoggingService=u;var l},function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var f=e.length-1;f>=0;f--)(r=e[f])&&(c=(i<3?r(c):i>3?r(t,n,c):r(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),c=function(){function e(){}return e}();c=o([r.NgModule({providers:[i.LoggingService]})],c),t.LoggingModule=c},function(e,t,n){"use strict";function o(){var e=function(){return null};return"undefined"!=typeof console?console:{trace:e,debug:e,info:e,warn:e,error:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(4)),o(n(0)),o(n(2)),o(n(3))},function(e,n){e.exports=t},function(e,t){e.exports=n}])});
//# sourceMappingURL=angular-logger2.umd.min.js.map